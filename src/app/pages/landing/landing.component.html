<div class="background full-width-height">
  <div class="padding picture-container full-height">
    <div class="headers-container">
      <div class="main-header">
        Real estate research platform
      </div>
      <div class="sub-header">
        Study market, find profitable options, invest your money in a smart way!
      </div>
      <div class="feature-item"><mat-icon class="warning right-margin">check</mat-icon> Flexible search system</div>
      <div class="feature-item"><mat-icon class="warning right-margin">check</mat-icon> User customizations</div>
      <div class="feature-item"><mat-icon class="warning right-margin">check</mat-icon> Different price predictions</div>

      <div *ngIf="!user" class="buttons">
        <button mat-raised-button class="action-button" (click)="navigate('auth/sign-in')">SIGN IN</button>
        <button mat-raised-button class="action-button background-warning" (click)="navigate('auth/register')">REGISTER</button>
      </div>
    </div>
    <img src="../../../assets/landing/apartments.png" class="building"/>
  </div>
</div>

<div #feedback class="sending-section">
  <div class="sending-form full-height">
    <div class="sending-form-header">
      <h2>Send Us An Email</h2>
      <p>If you have problems or questions please contact us</p>
    </div>
    <form class="form-send" [formGroup]="feedbackFormGroup">
      <mat-form-field class="full-width">
        <mat-label>Your name</mat-label>
        <input matInput formControlName="name">
        <mat-error *ngIf="feedbackFormGroup.get('name').hasError('required')">
          Name is required
        </mat-error>
      </mat-form-field>

      <mat-form-field class="full-width">
        <mat-label>Your email</mat-label>
        <input matInput formControlName="email">
        <mat-error *ngIf="!isfeedBackEmailValid()">
          {{feedbackFormGroup.get('email').hasError('email') ? 'Please enter a valid email address' : 'Email address is required'}}
        </mat-error>
      </mat-form-field>

      <mat-form-field class="full-width">
        <mat-label>Subject</mat-label>
        <input matInput formControlName="subject">
        <mat-error *ngIf="feedbackFormGroup.get('subject').hasError('required')">
          Subject is required
        </mat-error>
      </mat-form-field>

      <mat-form-field class="full-width">
        <textarea matInput placeholder="Message" formControlName="message"></textarea>
        <mat-error *ngIf="feedbackFormGroup.get('message').hasError('required')">
          Message is required
        </mat-error>
      </mat-form-field>

      <button mat-fab color="primary" class="send-feedback-button"
              [disabled]="!feedbackFormGroup.valid || feedbackIsFetching"
              (click)="onSendFeedbackClicked()">
        <mat-spinner *ngIf="feedbackIsFetching" class="spinner" [diameter]="20"></mat-spinner>
        <mat-icon *ngIf="!feedbackIsFetching">send</mat-icon>
      </button>
      <mat-error *ngIf="feedbackError && feedbackFormSubmitted">
        {{feedbackError}}
      </mat-error>
    </form>
  </div>
</div>
<app-footer (contact)="onContactClicked()"></app-footer>
